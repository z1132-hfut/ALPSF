{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://127.0.0.1:8000';\nexport const listL1Graphs = async () => {\n  const response = await axios.get(`${API_BASE_URL}/list_11`);\n  return response.data;\n};\nexport const getL1Graph = async keyword => {\n  const response = await axios.get(`${API_BASE_URL}/get_graph_11`, {\n    params: {\n      keyword\n    }\n  });\n  return response.data;\n};\nexport const createL1Graph = async keyword => {\n  const response = await axios.get(`${API_BASE_URL}/create_graph_11`, {\n    params: {\n      keyword\n    }\n  });\n  return response.data;\n};\nexport const getL2Graph = async keyword => {\n  const response = await axios.get(`${API_BASE_URL}/get_graph_12`, {\n    params: {\n      keyword\n    }\n  });\n  return response.data;\n};\nexport const createL2Graph = async (keyword, parentId) => {\n  const response = await axios.get(`${API_BASE_URL}/create_graph_12`, {\n    params: {\n      keyword,\n      parent_id: parentId\n    }\n  });\n  return response.data;\n};\nexport const getTaskStatus = async taskId => {\n  const response = await axios.get(`${API_BASE_URL}/task_status`, {\n    params: {\n      task_id: taskId\n    }\n  });\n  return response.data;\n};\nexport const streamChat = async (prompt, level, contextId = null) => {\n  const response = await axios.post(`${API_BASE_URL}/stream_chat`, {\n    prompt_request: prompt,\n    level: level === 'level1' ? 'level1' : 'level2'\n  }, {\n    params: contextId ? {\n      context_id: contextId\n    } : {},\n    responseType: 'stream'\n  });\n  return response.data;\n};\nexport const pollTaskStatus = async taskId => {\n  return new Promise(resolve => {\n    const interval = setInterval(async () => {\n      const status = await getTaskStatus(taskId);\n      if (status.completed || status.error) {\n        clearInterval(interval);\n        resolve(status);\n      }\n    }, 5000);\n  });\n};","map":{"version":3,"names":["axios","API_BASE_URL","listL1Graphs","response","get","data","getL1Graph","keyword","params","createL1Graph","getL2Graph","createL2Graph","parentId","parent_id","getTaskStatus","taskId","task_id","streamChat","prompt","level","contextId","post","prompt_request","context_id","responseType","pollTaskStatus","Promise","resolve","interval","setInterval","status","completed","error","clearInterval"],"sources":["G:/Python/ALPSF/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = 'http://127.0.0.1:8000';\r\n\r\nexport const listL1Graphs = async () => {\r\n  const response = await axios.get(`${API_BASE_URL}/list_11`);\r\n  return response.data;\r\n};\r\n\r\nexport const getL1Graph = async (keyword) => {\r\n  const response = await axios.get(`${API_BASE_URL}/get_graph_11`, {\r\n    params: { keyword }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const createL1Graph = async (keyword) => {\r\n  const response = await axios.get(`${API_BASE_URL}/create_graph_11`, {\r\n    params: { keyword }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getL2Graph = async (keyword) => {\r\n  const response = await axios.get(`${API_BASE_URL}/get_graph_12`, {\r\n    params: { keyword }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const createL2Graph = async (keyword, parentId) => {\r\n  const response = await axios.get(`${API_BASE_URL}/create_graph_12`, {\r\n    params: { keyword, parent_id: parentId }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getTaskStatus = async (taskId) => {\r\n  const response = await axios.get(`${API_BASE_URL}/task_status`, {\r\n    params: { task_id: taskId }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const streamChat = async (prompt, level, contextId = null) => {\r\n  const response = await axios.post(`${API_BASE_URL}/stream_chat`, {\r\n    prompt_request: prompt,\r\n    level: level === 'level1' ? 'level1' : 'level2'\r\n  }, {\r\n    params: contextId ? { context_id: contextId } : {},\r\n    responseType: 'stream'\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const pollTaskStatus = async (taskId) => {\r\n  return new Promise((resolve) => {\r\n    const interval = setInterval(async () => {\r\n      const status = await getTaskStatus(taskId);\r\n      if (status.completed || status.error) {\r\n        clearInterval(interval);\r\n        resolve(status);\r\n      }\r\n    }, 5000);\r\n  });\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,uBAAuB;AAE5C,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EACtC,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,UAAU,CAAC;EAC3D,OAAOE,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAOC,OAAO,IAAK;EAC3C,MAAMJ,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,eAAe,EAAE;IAC/DO,MAAM,EAAE;MAAED;IAAQ;EACpB,CAAC,CAAC;EACF,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMI,aAAa,GAAG,MAAOF,OAAO,IAAK;EAC9C,MAAMJ,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,kBAAkB,EAAE;IAClEO,MAAM,EAAE;MAAED;IAAQ;EACpB,CAAC,CAAC;EACF,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMK,UAAU,GAAG,MAAOH,OAAO,IAAK;EAC3C,MAAMJ,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,eAAe,EAAE;IAC/DO,MAAM,EAAE;MAAED;IAAQ;EACpB,CAAC,CAAC;EACF,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMM,aAAa,GAAG,MAAAA,CAAOJ,OAAO,EAAEK,QAAQ,KAAK;EACxD,MAAMT,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,kBAAkB,EAAE;IAClEO,MAAM,EAAE;MAAED,OAAO;MAAEM,SAAS,EAAED;IAAS;EACzC,CAAC,CAAC;EACF,OAAOT,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMS,aAAa,GAAG,MAAOC,MAAM,IAAK;EAC7C,MAAMZ,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,YAAY,cAAc,EAAE;IAC9DO,MAAM,EAAE;MAAEQ,OAAO,EAAED;IAAO;EAC5B,CAAC,CAAC;EACF,OAAOZ,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMY,UAAU,GAAG,MAAAA,CAAOC,MAAM,EAAEC,KAAK,EAAEC,SAAS,GAAG,IAAI,KAAK;EACnE,MAAMjB,QAAQ,GAAG,MAAMH,KAAK,CAACqB,IAAI,CAAC,GAAGpB,YAAY,cAAc,EAAE;IAC/DqB,cAAc,EAAEJ,MAAM;IACtBC,KAAK,EAAEA,KAAK,KAAK,QAAQ,GAAG,QAAQ,GAAG;EACzC,CAAC,EAAE;IACDX,MAAM,EAAEY,SAAS,GAAG;MAAEG,UAAU,EAAEH;IAAU,CAAC,GAAG,CAAC,CAAC;IAClDI,YAAY,EAAE;EAChB,CAAC,CAAC;EACF,OAAOrB,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMoB,cAAc,GAAG,MAAOV,MAAM,IAAK;EAC9C,OAAO,IAAIW,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,QAAQ,GAAGC,WAAW,CAAC,YAAY;MACvC,MAAMC,MAAM,GAAG,MAAMhB,aAAa,CAACC,MAAM,CAAC;MAC1C,IAAIe,MAAM,CAACC,SAAS,IAAID,MAAM,CAACE,KAAK,EAAE;QACpCC,aAAa,CAACL,QAAQ,CAAC;QACvBD,OAAO,CAACG,MAAM,CAAC;MACjB;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}